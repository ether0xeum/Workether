<html>
  <head>
		<meta charset="utf-8"/>
		<title>Orkeztra Mineable Contract &ndash; Alpha</title>
		
		<link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
	
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
		<script src='https://cdnjs.cloudflare.com/ajax/libs/bignumber.js/4.0.4/bignumber.min.js'></script>
		<link rel="stylesheet" href="style.css">
  </head>
  <body>
		<header>
			<span class="name icon-orkeztra">Orkeztra</span>
			<span class="subtitle">First Mineable Contract &mdash; Alpha</span>
			<a class="headerlink" href="https://github.com/ether0xeum/Workether" target="_blank">GitHub</a>
			<a class="headerlink" href="#" target="_blank">Website</a>
			<a class="headerlink" href="#" target="_blank">Explorer</a>
		</header>

		<div id="content">
			<div id="overlay">
				<div class="message">
					Orkeztra miner is already running in another browser window or tab.
					<br><br>
					<small>Please use only one window/tab at a time.</small>
				</div>
			</div>

			
			<div class="left">
				<div class="info">
					<div class="info-title">Wallet</div>
					<hr/>

					<div class="info-block wallet-address">
						<strong>ERC20 Contract Address</strong>
						<span id="contractaddress"></span>
					</div>
					<div class="info-block wallet-balance">
						<strong>Balance</strong>
						<span id="mybalance"></span>
					</div>
					<div class="info-block wallet-nonce">
						<strong>Randomness</strong>
						<span id="randomness"></span>
					</div>
					<hr/>
				</div>

				<div class="info">
					<div class="info-title">Transaction</div>
					<hr class="morespace"/>
					<form>
						<div class="input-group">
						  <label for="txRecipientAddr">Recipient</label>
						  <input id="transferaddress" type="text" placeholder="address" name="recipientAddr" maxlength="45" size="42">
						</div>
						<div class="input-group">
							<label for="txValue">Value</label>
							<input id="transferamount" name="value" type="text" placeholder="amount" step="any">
						</div>
						<div class="input-group">
							<label for="txFee">Fee</label>
							<input id="txFee" name="fee" type="number" step="0.01">
						</div>
						<hr class="morespace"/>
						<div class="input-group">
							<button type="button" id="txSubmitBtn" onclick="javascript:transfer();">Transfer</button>
						</div>
						<hr/>
					</form>
				</div>
				
				<div class="info">
					<div class="info-title">Miner</div>
						<hr/>
						<div class="info-block">
							<strong>Working</strong>
							<span id="accounts"></span>
						</div>
						<div class="info-block">
							<strong>Hashrate</strong>
							<span id="mininginfo"></span> H/s
						</div>
						<div class="info-block">
							<strong>Status</strong>
							<span id="miningstatus"></span>
						</div>
						<div class="input-group">
							<button type="button" class="btn btn-outline-primary" id="startmining" onclick="javascript:startMining();">Start mining</button>&nbsp;<button type="button" class="btn btn-outline-danger" id="stopmining" onclick="javascript:stopMining();">Stop mining</button>
						</div>
						<hr/>
					</div>
		
				</div>
			</div>

			
			<div class="right">
				<div class="info">
					<div class="info-title" id="blockchain-title">Blockchain</div>
					<hr/>

					<div class="info-block">
						<strong>Height</strong>
						<span id="blocknumber"></span>
					</div>
					<div class="info-block">
						<strong>Target</strong>
						<span id="target"></span>
					</div>
					<div class="info-block">
						<strong>Total supply</strong>
						<span id="totalsupply"></span>
					</div>
					<hr/>
				</div>

				<div class="info">
					<div class="info-title">Head Block</div>
					<hr/>

					<div class="info-block">
						<strong>Last mined on</strong>
						<span id="lastminedon"></span>
					</div>
					<div class="info-block">
						<strong>Nonce</strong>
						<span id="nonce"></span>
					</div>
					<div class="info-block">
						<strong>Block Reward</strong>
						<span id="blockreward"></span>
					</div>
					<hr/>
				</div>

				<div class="info">
					<div class="info-title">Network</div>
					<hr/>

					<div class="info-block">
						<strong>Network</strong>
						<span id="network"></span>
					</div>
				</div>
			</div>
			

		  <div class="row">
			<div class="col-12" id="miningevents"></div>
		  </div>


		</div> <!-- /container -->



		<script type="text/javascript" src="js/main.js"></script>
		<script type="text/javascript">
		  window.addEventListener('load', function() {
			// Checking if Web3 has been injected by the browser (Mist/MetaMask)
			if (typeof web3 !== 'undefined') {
			  // Use Mist/MetaMask's provider
			  window.web3 = new Web3(web3.currentProvider);
			  console.log('I sense web3...')
			  startApp()
			} else {
			  $("body").empty().append('<h1>This Dapp requires Metamask</h1><a href="https://metamask.io/" target="__blank"><img src="https://github.com/MetaMask/faq/raw/master/images/download-metamask.png"/></a>');
			}
		  })
		</script>
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  </body>
</html>
